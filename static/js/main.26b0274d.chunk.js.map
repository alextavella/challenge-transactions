{"version":3,"sources":["hooks/flash.tsx","services/api.ts","hooks/transaction.tsx","utils/dates.ts","styles/theme.ts","providers/ThemeProvider/index.tsx","providers/index.tsx","components/Button/index.tsx","utils/numbers.ts","components/TransactionSummary/styles.tsx","components/TransactionSummary/index.tsx","containers/FlashMessages/FlashMessage/styles.tsx","containers/FlashMessages/FlashMessage/index.tsx","containers/FlashMessages/styles.tsx","containers/FlashMessages/index.tsx","components/TransactionList/styles.tsx","components/TransactionList/TransactionItem/styles.tsx","components/TransactionList/TransactionItem/index.tsx","components/TransactionList/index.tsx","containers/Transactions/styles.tsx","containers/Transactions/index.tsx","pages/Home/styles.tsx","components/MaskInput/index.tsx","pages/Home/index.tsx","components/Input/index.tsx","utils/patterns.ts","components/Toolbar/styles.tsx","components/Toolbar/index.tsx","config/env.ts","pages/New/styles.tsx","pages/New/index.tsx","routes/index.tsx","App.tsx","index.tsx"],"names":["FlashContext","createContext","FlashProvider","children","useState","messages","setMessages","flashData","addMessage","useCallback","type","title","message","id","uuid","state","removeMessage","filter","m","Provider","value","useFlash","context","useContext","Error","api","axios","create","baseURL","process","REACT_APP_BASE_URL","TransactionContext","TransactionProvider","loading","setLoading","error","setError","transactions","setTransactions","useEffect","get","then","response","result","data","map","item","timestamp","credit_card_holder_name","buyer_document","credit_card_number","credit_card_cvv","credit_card_expiration_date","date","name","amount","created_at","Date","catch","finally","transactionData","getTransactions","addTransaction","a","now","post","toUpperCase","toISOString","transactionDb","transaction","useTransaction","theme","createMuiTheme","typography","fontFamily","body1","fontWeight","body2","subtitle2","fontSize","button","textTransform","palette","primary","main","contrastText","secondary","overrides","MuiButton","root","background","borderRadius","height","border","padding","disableElevation","label","containedPrimary","backgroundColor","color","MuiInputBase","width","MuiToolbar","boxShadow","textAlign","MuiAppBar","ThemeProvider","CssBaseline","MainProvider","Button","variant","rest","formatCurrency","Intl","NumberFormat","style","currency","minimumFractionDigits","format","replace","Container","styled","MaterialContainer","attrs","maxWidth","TopicText","Typography","component","ValueText","TransactionSummary","quantity","total","data-testid","styles","css","success","FlashItem","animated","li","props","Content","TitleText","icons","ErrorIcon","SuccessIcon","FlashMessage","click","onClick","Icon","ul","FlashMessages","transitions","useTransition","from","top","opacity","enter","leave","length","key","NameText","StatusText","DateText","AmountText","TransactionItem","DateTimeFormat","day","month","year","hour","minute","formatDate","TransactionList","LoadingText","Transactions","source","useMemo","MaskInputType","div","WrapperContent","Header","header","disableGutters","WrapperButton","Home","redirect","useHistory","push","reduce","acc","startIcon","fullWidth","React","forwardRef","ref","defaultValue","inputRef","InputProps","inputProps","CPF","rules","pattern","RegExp","transform","text","match","part1","part2","part3","CREDIT_CARD_NUMBER","CREDIT_CARD_EXPIRATION_DATE","CREDIT_CARD_CVV","CURRENCY","number","substring","x","Number","toFixed","split","x1","x2","formatAmountNoDecimals","rgx","test","maskRules","innerRef","mask","onKeyUp","maskRule","handleChange","event","target","Title","MyToolbar","onBack","Toolbar","IconButton","edge","REACT_APP_DEV","MainContent","validationSchema","Yup","shape","required","matches","excludeEmptyString","New","goBack","useForm","resolver","yupResolver","register","handleSubmit","errors","setValue","onSubmit","validate","abortEarly","envConfig","AppBar","position","className","helperText","Routes","path","exact","HomePage","NewPage","to","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.26b0274d.chunk.js","sourcesContent":["import React, { createContext, useCallback, useContext, useState } from 'react';\nimport { v4 as uuid } from 'uuid';\n\nexport interface FlashMessage {\n  id: string;\n  type: 'success' | 'error';\n  title: string;\n}\n\ninterface FlashContextData {\n  messages: FlashMessage[];\n  addMessage(message: Omit<FlashMessage, 'id'>): void;\n  removeMessage(id: string): void;\n}\n\nconst FlashContext = createContext<FlashContextData>({} as FlashContextData);\n\nconst FlashProvider: React.FC = ({ children }) => {\n  const [messages, setMessages] = useState<FlashMessage[]>([]);\n\n  const addMessage = useCallback(\n    ({ type, title }: Omit<FlashMessage, 'id'>) => {\n      const message = {\n        id: uuid(),\n        type,\n        title,\n      };\n\n      setMessages(state => [...state, message]);\n    },\n    [],\n  );\n\n  const removeMessage = useCallback((id: string) => {\n    setMessages(state => state.filter(m => m.id !== id));\n  }, []);\n\n  const flashData = {\n    messages,\n    addMessage,\n    removeMessage,\n  };\n\n  return (\n    <FlashContext.Provider value={flashData}>{children}</FlashContext.Provider>\n  );\n};\n\nfunction useFlash(): FlashContextData {\n  const context = useContext(FlashContext);\n\n  if (!context) {\n    throw new Error('useFlash must be used within a FlashProvider');\n  }\n\n  return context;\n}\n\nexport { useFlash, FlashProvider };\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL ?? 'http://localhost:3333',\n});\n\nexport default api;\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport api from '../services/api';\nimport { parseFromISO } from '../utils/dates';\n\nexport interface Transaction {\n  id: string;\n  buyer_document: string;\n  name: string;\n  credit_card_number: string;\n  credit_card_expiration_date: string;\n  credit_card_cvv: string;\n  amount: number;\n  created_at: Date;\n}\n\ninterface TransactionDb {\n  id: string;\n  buyer_document: string;\n  credit_card_holder_name: string;\n  credit_card_number: string;\n  credit_card_expiration_date: string;\n  credit_card_cvv: string;\n  amount: number;\n  date: string;\n}\n\nexport type RegisterTransaction = Omit<Transaction, 'id' | 'created_at'>;\n\ninterface TransactionContextData {\n  loading: boolean;\n  error: string;\n  getTransactions(): Transaction[];\n  addTransaction(data: RegisterTransaction): Promise<Transaction>;\n}\n\nconst TransactionContext = createContext<TransactionContextData>(\n  {} as TransactionContextData,\n);\n\nconst TransactionProvider: React.FC = ({ children }) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string>('');\n\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n\n  useEffect(() => {\n    setLoading(true);\n\n    api\n      .get(`/transactions`)\n      .then(response => {\n        const data = response.data as TransactionDb[];\n\n        const result = data.map(item => {\n          const {\n            id,\n            credit_card_holder_name,\n            buyer_document,\n            credit_card_number,\n            credit_card_cvv,\n            credit_card_expiration_date,\n            date,\n            amount,\n          } = item;\n\n          return {\n            id,\n            name: credit_card_holder_name,\n            buyer_document,\n            credit_card_number,\n            credit_card_cvv,\n            credit_card_expiration_date,\n            amount,\n            created_at: parseFromISO(date),\n          };\n        });\n\n        setTransactions(result);\n      })\n      .catch(() => {\n        setError('Falha ao carregar as transações, verifique sua conexão');\n      })\n      .finally(() => setLoading(false));\n  }, []);\n\n  const getTransactions = useCallback(() => transactions, [transactions]);\n\n  const addTransaction = useCallback(async (data: RegisterTransaction) => {\n    const {\n      name,\n      buyer_document,\n      credit_card_number,\n      credit_card_cvv,\n      credit_card_expiration_date,\n      amount,\n    } = data;\n\n    const now = new Date(Date.now());\n\n    const response = await api.post(`/transactions`, {\n      buyer_document,\n      credit_card_holder_name: name.toUpperCase(),\n      credit_card_number,\n      credit_card_cvv,\n      credit_card_expiration_date,\n      amount,\n      date: now.toISOString(),\n    });\n\n    const transactionDb = response.data as TransactionDb;\n\n    const transaction: Transaction = {\n      id: transactionDb.id,\n      name: transactionDb.credit_card_holder_name,\n      buyer_document,\n      credit_card_number,\n      credit_card_cvv,\n      credit_card_expiration_date,\n      amount,\n      created_at: now,\n    };\n\n    setTransactions(value => [...value, transaction]);\n\n    return transaction;\n  }, []);\n\n  const transactionData = {\n    loading,\n    error,\n    getTransactions,\n    addTransaction,\n  };\n\n  return (\n    <TransactionContext.Provider value={transactionData}>\n      {children}\n    </TransactionContext.Provider>\n  );\n};\n\nfunction useTransaction(): TransactionContextData {\n  const context = useContext(TransactionContext);\n\n  if (!context) {\n    throw new Error('useTransaction must be used within a TransactionProvider');\n  }\n\n  return context;\n}\nexport { useTransaction, TransactionProvider };\n","export const formatDate = (date: Date): string =>\n  new Intl.DateTimeFormat('pt-BR', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  }).format(date);\n\nexport const parseFromISO = (timestamp: string): Date => new Date(timestamp);\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: 'Lato',\n    body1: {\n      fontWeight: 400,\n    },\n    body2: {\n      fontWeight: 700,\n    },\n    subtitle2: {\n      fontSize: 20,\n      fontWeight: 700,\n    },\n    button: {\n      textTransform: 'none',\n      fontWeight: 700,\n    },\n  },\n  palette: {\n    primary: {\n      main: '#3F2787',\n      contrastText: '#FFF',\n    },\n    secondary: {\n      main: '#65A300',\n      contrastText: '#FFF',\n    },\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        background: '#3F2787',\n        borderRadius: 8,\n        height: 48,\n        border: 0,\n        padding: 12,\n        disableElevation: true,\n      },\n      label: {\n        textTransform: 'capitalize',\n      },\n      containedPrimary: {\n        backgroundColor: '#3F2787',\n        color: '#FFF',\n        '&:hover': {\n          backgroundColor: '#3F2787',\n          color: '#FFF',\n        },\n        '&:disabled': {\n          backgroundColor: '#F2F2F3',\n          color: '#72737A',\n        },\n      },\n    },\n    MuiInputBase: {\n      root: {\n        height: 48,\n        padding: 0,\n        width: '100%',\n      },\n    },\n    MuiToolbar: {\n      root: {\n        background: '#F2F2F3',\n        boxShadow: 'none',\n        color: '#1D1647',\n        textAlign: 'center',\n        padding: 16,\n      },\n    },\n    MuiAppBar: {\n      root: {\n        boxShadow: 'none',\n      },\n    },\n  },\n});\n\nexport { theme };\n","import CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider as MaterialThemeProvider } from '@material-ui/core/styles';\nimport React from 'react';\nimport { theme } from '../../styles/theme';\n\nconst ThemeProvider: React.FC = ({ children }) => {\n  return (\n    <MaterialThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </MaterialThemeProvider>\n  );\n};\n\nexport default ThemeProvider;\n","import React from 'react';\nimport { FlashProvider } from '../hooks/flash';\nimport { TransactionProvider } from '../hooks/transaction';\nimport ThemeProvider from './ThemeProvider';\n\nconst MainProvider: React.FC = ({ children }) => {\n  return (\n    <ThemeProvider>\n      <TransactionProvider>\n        <FlashProvider>{children}</FlashProvider>\n      </TransactionProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default MainProvider;\n","import MaterialButton, {\n  ButtonProps as MaterialButtonProps,\n} from '@material-ui/core/Button';\nimport Text from '@material-ui/core/Typography';\nimport React from 'react';\n\ninterface ButtonProps extends MaterialButtonProps {}\n\nconst Button: React.FC<ButtonProps> = ({\n  variant,\n  color,\n  children,\n  ...rest\n}) => {\n  return (\n    <MaterialButton variant=\"contained\" color=\"primary\" {...rest}>\n      <Text variant=\"button\">{children}</Text>\n    </MaterialButton>\n  );\n};\n\nexport default Button;\n","export const formatCurrency = (value: number): string => {\n  const formatted = new Intl.NumberFormat([], {\n    style: 'currency',\n    currency: 'BRL',\n    minimumFractionDigits: 2,\n  }).format(value);\n\n  return formatted\n    .replace('.', '#')\n    .replace(/,/g, '.')\n    .replace('#', ',')\n    .replace('R$', 'R$ ');\n};\n\nexport const unformatCurrency = (value: string): number => {\n  return Number(\n    value\n      .replace('R$ ', '')\n      .replace(',', '#')\n      .replace(/\\./g, '')\n      .replace('#', '.'),\n  );\n};\n","import styled from 'styled-components';\nimport { Container as MaterialContainer, Typography } from '@material-ui/core';\n\nexport const Container = styled(MaterialContainer).attrs({\n  maxWidth: 'sm',\n})`\n  > div + div {\n    margin-top: 24px;\n  }\n`;\n\nexport const TopicText = styled(Typography).attrs({\n  variant: 'body2',\n  component: 'p',\n})``;\n\nexport const ValueText = styled(Typography).attrs({\n  variant: 'subtitle2',\n  component: 'strong',\n  color: 'secondary',\n})``;\n","import React from 'react';\nimport { formatCurrency } from '../../utils/numbers';\nimport { Container, TopicText, ValueText } from './styles';\n\ninterface TransactionSummaryProps {\n  quantity: number;\n  total: number;\n}\n\nconst TransactionSummary: React.FC<TransactionSummaryProps> = ({\n  quantity,\n  total,\n}) => {\n  return (\n    <Container>\n      <div>\n        <TopicText>Número de transações</TopicText>\n        <ValueText data-testid=\"transaction_header_quantity\">\n          {quantity}\n        </ValueText>\n      </div>\n      <div>\n        <TopicText>Valor total</TopicText>\n        <ValueText data-testid=\"transaction_header_total\">\n          {formatCurrency(total)}\n        </ValueText>\n      </div>\n    </Container>\n  );\n};\n\nexport default TransactionSummary;\n","import { Container, Typography } from '@material-ui/core';\nimport { animated } from 'react-spring';\nimport styled, { css } from 'styled-components';\n\ninterface FlashItemProps {\n  type: 'error' | 'success';\n}\n\nconst styles = {\n  error: css`\n    background-color: #e5433d;\n    color: #fff;\n  `,\n  success: css`\n    background-color: #80bf66;\n    color: #fff;\n  `,\n};\n\nexport const FlashItem = styled(animated.li)<FlashItemProps>`\n  ${props => styles[props.type]};\n\n  cursor: pointer;\n  padding: 16px;\n  position: relative;\n`;\n\nexport const Content = styled(Container).attrs({\n  maxWidth: 'sm',\n})`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n\n  svg {\n    margin-right: 8px;\n  }\n`;\n\nexport const TitleText = styled(Typography).attrs({\n  variant: 'h6',\n})``;\n","import SuccessIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport React from 'react';\nimport { Content, FlashItem, TitleText } from './styles';\n\nexport interface FlashMessageProps {\n  type: 'error' | 'success';\n  title: string;\n  onClick(): void;\n  style?: Object;\n}\n\nconst icons = {\n  error: ErrorIcon,\n  success: SuccessIcon,\n};\n\nconst FlashMessage: React.FC<FlashMessageProps> = ({\n  title,\n  type,\n  onClick: click,\n  ...rest\n}) => {\n  const Icon: React.ComponentType = icons[type];\n\n  return (\n    <FlashItem type={type} onClick={click} {...rest}>\n      <Content>\n        <Icon />\n        <TitleText>{title}</TitleText>\n      </Content>\n    </FlashItem>\n  );\n};\n\nexport default FlashMessage;\n","import styled from 'styled-components';\n\nexport const Container = styled.ul`\n  background: transparent;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n\n  z-index: 900;\n`;\n","import React from 'react';\nimport { useTransition } from 'react-spring';\nimport { useFlash } from '../../hooks/flash';\nimport FlashMessage from './FlashMessage';\nimport { Container } from './styles';\n\nconst FlashMessages: React.FC = () => {\n  const { messages, removeMessage } = useFlash();\n\n  const transitions = useTransition(messages, item => item.id, {\n    from: { top: '-80px', opacity: 0 },\n    enter: { top: '0%', opacity: 1 },\n    leave: { top: '-80px', opacity: 0 },\n  });\n\n  if (transitions.length === 0) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      {transitions.map(({ item: message, key, props }) => (\n        <FlashMessage\n          key={key}\n          title={message.title}\n          type={message.type}\n          style={props}\n          onClick={() => removeMessage(message.id)}\n        />\n      ))}\n    </Container>\n  );\n};\n\nexport default FlashMessages;\n","import styled from 'styled-components';\n\nexport const Container = styled.ul`\n  background: #f2f2f3;\n  list-style: none;\n  margin: 0;\n  padding: 0 0 1px 0;\n  width: 100%;\n`;\n","import Typography from '@material-ui/core/Typography';\nimport styled from 'styled-components';\n\nexport const Container = styled.li`\n  background: #fff;\n  padding: 16px;\n  width: 100%;\n\n  & + li {\n    margin-top: 1px;\n  }\n\n  > div {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    & + div {\n      margin-top: 8px;\n    }\n  }\n`;\n\nexport const NameText = styled(Typography).attrs({\n  variant: 'body2',\n  component: 'strong',\n})`\n  text-transform: uppercase;\n`;\n\nexport const StatusText = styled(Typography).attrs({\n  variant: 'body1',\n  component: 'span',\n})`\n  font-size: 0.725rem;\n  text-transform: capitalize;\n`;\n\nexport const DateText = styled(Typography).attrs({\n  variant: 'body1',\n  component: 'span',\n})``;\n\nexport const AmountText = styled(Typography).attrs({\n  variant: 'body2',\n  component: 'strong',\n})``;\n","import React from 'react';\nimport { formatDate } from '../../../utils/dates';\nimport { formatCurrency } from '../../../utils/numbers';\nimport {\n  Container,\n  NameText,\n  StatusText,\n  DateText,\n  AmountText,\n} from './styles';\n\ninterface TransactionItemProps {\n  name: string;\n  date: Date;\n  amount: number;\n}\n\nconst TransactionItem: React.FC<TransactionItemProps> = ({\n  name,\n  date,\n  amount,\n  ...rest\n}) => {\n  return (\n    <Container {...rest}>\n      <div>\n        <NameText>{name}</NameText>\n        <StatusText>Paga</StatusText>\n      </div>\n      <div>\n        <DateText>{formatDate(date)}</DateText>\n        <AmountText>{formatCurrency(amount)}</AmountText>\n      </div>\n    </Container>\n  );\n};\n\nexport default TransactionItem;\n","import React from 'react';\nimport { Container } from './styles';\nimport TransactionItem from './TransactionItem';\n\nexport interface TransactionItem {\n  id: string;\n  name: string;\n  amount: number;\n  created_at: Date;\n}\n\ninterface TransactionListProps {\n  transactions: TransactionItem[];\n}\n\nconst TransactionList: React.FC<TransactionListProps> = ({\n  transactions,\n  ...rest\n}) => {\n  return (\n    <Container {...rest}>\n      {transactions.map(transaction => (\n        <TransactionItem\n          data-testid={transaction.id}\n          key={transaction.id}\n          name={transaction.name}\n          date={transaction.created_at}\n          amount={transaction.amount}\n        />\n      ))}\n    </Container>\n  );\n};\n\nexport default TransactionList;\n","import { Typography } from '@material-ui/core';\nimport styled from 'styled-components';\n\nexport const Container = styled.main`\n  display: flex;\n  align-items: center;\n  min-height: 60px;\n  width: 100%;\n`;\n\nexport const LoadingText = styled(Typography).attrs({\n  variant: 'body1',\n})`\n  text-align: center;\n  width: 100%;\n`;\n","import React, { useMemo } from 'react';\nimport TransactionList, {\n  TransactionItem,\n} from '../../components/TransactionList';\nimport { Transaction } from '../../hooks/transaction';\nimport { LoadingText } from './styles';\n\ninterface TransactionsProps {\n  loading: boolean;\n  transactions: Transaction[];\n}\n\nconst Transactions: React.FC<TransactionsProps> = ({\n  loading,\n  transactions,\n}) => {\n  const source = useMemo<TransactionItem[]>(() => {\n    return transactions.map(({ id, name, amount, created_at }) => ({\n      id,\n      name,\n      amount,\n      created_at,\n    }));\n  }, [transactions]);\n\n  return (\n    <>\n      {loading ? (\n        <LoadingText>Carregando...</LoadingText>\n      ) : (\n        <TransactionList transactions={source} />\n      )}\n    </>\n  );\n};\n\nexport default Transactions;\n","import { Container as MaterialContainer } from '@material-ui/core';\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  min-height: 100vh;\n  width: 100%;\n\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 158px 1fr;\n`;\n\nexport const WrapperContent = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n`;\n\nexport const Header = styled.header`\n  background: #f2f2f3;\n  padding: 16px 0;\n`;\n\nexport const Content = styled(MaterialContainer).attrs({\n  component: 'main',\n  maxWidth: 'sm',\n  disableGutters: true,\n})``;\n\nexport const WrapperButton = styled.div`\n  margin-top: 16px;\n  padding: 0 16px;\n`;\n","import React, { useCallback, useMemo } from 'react';\nimport { ValidationRules } from 'react-hook-form';\nimport {\n  CPF,\n  CREDIT_CARD_CVV,\n  CREDIT_CARD_EXPIRATION_DATE,\n  CREDIT_CARD_NUMBER,\n  CURRENCY,\n  MaskRule,\n} from '../../utils/patterns';\nimport Input, { InputProps } from '../Input';\n\nexport enum MaskInputType {\n  buyer_document = 'buyer_document',\n  credit_card_number = 'credit_card_number',\n  credit_card_expiration_date = 'credit_card_expiration_date',\n  credit_card_cvv = 'credit_card_cvv',\n  currency = 'currency',\n}\n\nexport interface MaskInputProps extends InputProps {\n  mask: MaskInputType;\n  rules?: ValidationRules;\n  onKeyUp?: (event: any) => void;\n}\n\ninterface MaskRuleType {\n  [key: string]: MaskRule;\n}\n\nconst maskRules: MaskRuleType = {\n  [MaskInputType.buyer_document]: CPF,\n  [MaskInputType.credit_card_number]: CREDIT_CARD_NUMBER,\n  [MaskInputType.credit_card_expiration_date]: CREDIT_CARD_EXPIRATION_DATE,\n  [MaskInputType.credit_card_cvv]: CREDIT_CARD_CVV,\n  [MaskInputType.currency]: CURRENCY,\n};\n\ntype RefProps = (rules: ValidationRules) => any;\n\nconst MaskInput: React.ForwardRefRenderFunction<RefProps, MaskInputProps> = (\n  { name, label, mask, type = 'tel', rules = {}, onKeyUp, ...rest },\n  innerRef: any,\n) => {\n  const maskRule = useMemo<MaskRule>(() => maskRules[mask], [mask]);\n\n  const handleChange = useCallback(\n    (event: any) => {\n      event.target.value = maskRule.transform(event.target.value);\n      onKeyUp && onKeyUp(event);\n    },\n    [maskRule, onKeyUp],\n  );\n\n  return (\n    <Input\n      {...rest}\n      type={type}\n      name={name}\n      label={label}\n      onKeyUp={handleChange}\n      ref={\n        innerRef &&\n        innerRef({\n          ...rules,\n          ...maskRule.rules,\n        })\n      }\n    />\n  );\n};\n\nexport default React.forwardRef(MaskInput);\n","import AddIcon from '@material-ui/icons/AddCircle';\nimport React, { useEffect, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Button from '../../components/Button';\nimport TransactionSummary from '../../components/TransactionSummary';\nimport FlashMessages from '../../containers/FlashMessages';\nimport Transactions from '../../containers/Transactions';\nimport { useFlash } from '../../hooks/flash';\nimport { Transaction, useTransaction } from '../../hooks/transaction';\nimport {\n  Container,\n  Content,\n  Header,\n  WrapperContent,\n  WrapperButton,\n} from './styles';\n\nconst Home: React.FC = () => {\n  const { push: redirect } = useHistory();\n\n  const { error, loading, getTransactions } = useTransaction();\n  const { addMessage } = useFlash();\n\n  const transactions = useMemo(() => getTransactions(), [getTransactions]);\n  const quantity = useMemo<number>(() => transactions.length, [transactions]);\n  const total = useMemo<number>(\n    () =>\n      transactions.reduce((acc: number, transaction: Transaction) => {\n        acc += transaction.amount;\n        return acc;\n      }, 0),\n    [transactions],\n  );\n\n  useEffect(() => {\n    if (error) {\n      addMessage({\n        type: 'error',\n        title: error,\n      });\n    }\n  }, [addMessage, error]);\n\n  return (\n    <Container>\n      <Header>\n        <TransactionSummary quantity={quantity} total={total} />\n      </Header>\n      <WrapperContent>\n        <FlashMessages />\n        <Content>\n          <Transactions loading={loading} transactions={transactions} />\n          <WrapperButton>\n            <Button\n              startIcon={<AddIcon />}\n              fullWidth\n              onClick={() => redirect('/new')}\n            >\n              Criar transação\n            </Button>\n          </WrapperButton>\n        </Content>\n      </WrapperContent>\n    </Container>\n  );\n};\n\nexport default Home;\n","import MaterialTextField, {\n  BaseTextFieldProps,\n} from '@material-ui/core/TextField';\nimport React from 'react';\n\nexport interface InputProps extends BaseTextFieldProps {\n  name: string;\n  label: string;\n  type?: string;\n  defaultValue?: string;\n}\n\nconst Input: React.ForwardRefRenderFunction<any, InputProps> = (\n  { name, label, type = 'text', defaultValue = '', ...rest },\n  ref,\n) => {\n  return (\n    <MaterialTextField\n      {...rest}\n      inputRef={ref}\n      name={name}\n      label={label}\n      type={type}\n      defaultValue={defaultValue}\n      variant=\"outlined\"\n      InputProps={{\n        inputProps: { 'data-testid': name },\n      }}\n    />\n  );\n};\n\nexport default React.forwardRef(Input);\n","import { ValidationRules } from 'react-hook-form';\n\nexport interface MaskRule {\n  rules: ValidationRules;\n  transform: (text: string) => string;\n}\n\nexport const CPF: MaskRule = {\n  rules: {\n    pattern: {\n      value: new RegExp(/^([0-9]{3}).([0-9]{3}).([0-9]{3})-([0-9]{2})$/),\n      message: 'CPF inválido',\n    },\n  },\n  transform: (text: string = ''): string => {\n    const result = text\n      .replace(/\\D/g, '')\n      .match(/(\\d{0,3})(\\d{0,3})(\\d{0,3})(\\d{0,2})/)!;\n\n    const part1 = result[2] ? `${result[1]}.${result[2]}` : result[1];\n    const part2 = result[3] ? `.${result[3]}` : '';\n    const part3 = result[4] ? `-${result[4]}` : '';\n\n    return `${part1}${part2}${part3}`;\n  },\n};\n\nexport const CREDIT_CARD_NUMBER: MaskRule = {\n  rules: {\n    pattern: {\n      value: new RegExp(/^([0-9]{4})\\s([0-9]{4})\\s([0-9]{4})\\s([0-9]{4})$/),\n      message: 'Número do cartão inválido',\n    },\n  },\n  transform: (text: string = ''): string => {\n    const result = text\n      .replace(/\\D/g, '')\n      .match(/(\\d{0,4})(\\d{0,4})(\\d{0,4})(\\d{0,4})/)!;\n\n    const part1 = result[2] ? `${result[1]} ${result[2]}` : result[1];\n    const part2 = result[3] ? ` ${result[3]}` : '';\n    const part3 = result[4] ? ` ${result[4]}` : '';\n\n    return `${part1}${part2}${part3}`;\n  },\n};\n\nexport const CREDIT_CARD_EXPIRATION_DATE: MaskRule = {\n  rules: {\n    pattern: {\n      value: new RegExp(/^(0[1-9]|1[012])\\/?(20[2-9][0-9])$/),\n      message: 'Data de expiração inválida',\n    },\n  },\n  transform: (text: string = ''): string => {\n    const result = text.replace(/\\D/g, '').match(/(\\d{0,2})(\\d{0,4})/)!;\n\n    return result[2] ? `${result[1]}/${result[2]}` : result[1];\n  },\n};\n\nexport const CREDIT_CARD_CVV: MaskRule = {\n  rules: {\n    pattern: {\n      value: new RegExp(/[0-9]{3}/),\n      message: 'CVV inválido',\n    },\n  },\n  transform: (text: string = ''): string => {\n    return text;\n  },\n};\n\nexport const CURRENCY: MaskRule = {\n  rules: {\n    pattern: {\n      value: new RegExp(/([0-9]\\.?)?[0-9]+,[0-9]{2}/),\n      message: 'Valor inválido',\n    },\n  },\n  transform: (text: string = ''): string => {\n    let number = text.replace(/[^0-9]/g, '');\n\n    if (number.length === 0) number = '0.00';\n    else if (number.length === 1) number = '0.0' + number;\n    else if (number.length === 2) number = '0.' + number;\n    else\n      number =\n        number.substring(0, number.length - 2) +\n        '.' +\n        number.substring(number.length - 2, number.length);\n\n    number = Number(number).toFixed(2);\n    number = number.replace(/\\./g, ',');\n\n    const x = number.split(',');\n    const x1 = x[0];\n    const x2 = x.length > 1 ? ',' + x[1] : '';\n\n    const formatAmountNoDecimals = (number: string) => {\n      var rgx = /(\\d+)(\\d{3})/;\n      while (rgx.test(number)) {\n        number = number.replace(rgx, `$1.$2`);\n      }\n      return number;\n    };\n\n    return `R$ ` + formatAmountNoDecimals(x1) + x2;\n  },\n};\n","import { Typography } from '@material-ui/core';\nimport styled from 'styled-components';\n\nexport const Title = styled(Typography)`\n  width: 100%;\n  margin-right: 48px;\n`;\n","import { IconButton, Toolbar } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport React from 'react';\nimport { Title } from './styles';\n\ninterface MyToolbarProps {\n  title: string;\n  onBack: () => void;\n}\n\nconst MyToolbar: React.FC<MyToolbarProps> = ({ title, onBack }) => {\n  return (\n    <Toolbar variant=\"dense\">\n      <IconButton\n        data-testid=\"back-button\"\n        edge=\"start\"\n        color=\"primary\"\n        onClick={() => onBack()}\n      >\n        <ArrowBackIcon />\n      </IconButton>\n      <Title variant=\"h6\" color=\"inherit\">\n        {title}\n      </Title>\n    </Toolbar>\n  );\n};\n\nexport default MyToolbar;\n","export default {\n  isDev: process.env.REACT_APP_DEV ?? false,\n};\n","import { Container as MaterialContainer } from '@material-ui/core';\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  min-height: 100vh;\n  width: 100%;\n\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 80px 1fr;\n`;\n\nexport const WrapperContent = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n`;\n\nexport const Content = styled(MaterialContainer).attrs({\n  maxWidth: 'sm',\n})`\n  height: 100%;\n`;\n\nexport const MainContent = styled.main`\n  height: inherit;\n  padding: 32px 0;\n\n  > form {\n    height: 100%;\n    width: 100%;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-direction: column;\n\n    > div {\n      width: inherit;\n\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n    }\n\n    .form_input_group {\n      height: 100%;\n      width: inherit;\n\n      > div {\n        width: inherit;\n\n        & + div {\n          margin-top: 16px;\n        }\n      }\n    }\n\n    .form_credit_card_expiration_date_cvv {\n      display: flex;\n      flex-direction: row;\n      align-items: flex-start;\n      justify-content: space-between;\n\n      > div + div {\n        margin-left: 8px;\n      }\n\n      > div:first-child {\n        width: 60%;\n      }\n      > div:last-child {\n        width: 40%;\n      }\n    }\n\n    > button {\n      margin-top: 16px;\n    }\n  }\n`;\n","import { yupResolver } from '@hookform/resolvers/yup';\nimport { AppBar } from '@material-ui/core';\nimport React, { useCallback, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport MaskInput, { MaskInputType } from '../../components/MaskInput';\nimport Toolbar from '../../components/Toolbar';\nimport envConfig from '../../config/env';\nimport FlashMessages from '../../containers/FlashMessages';\nimport { useFlash } from '../../hooks/flash';\nimport { RegisterTransaction, useTransaction } from '../../hooks/transaction';\nimport { unformatCurrency } from '../../utils/numbers';\nimport { Container, Content, MainContent, WrapperContent } from './styles';\n\nexport interface TransactionData {\n  name: string;\n  buyer_document: string;\n  credit_card_number: string;\n  credit_card_expiration_date: string;\n  credit_card_cvv: string;\n  amount: string;\n}\n\nconst validationSchema = Yup.object().shape({\n  name: Yup.string()\n    .required('Nome é obrigatório')\n    .matches(/(.+\\s)+(.+)/, {\n      excludeEmptyString: true,\n      message: 'Nome está incorreto',\n    }),\n  buyer_document: Yup.string()\n    .required('CPF é obrigatório')\n    .matches(/[0-9]{3}\\.?[0-9]{3}\\.?[0-9]{3}-?[0-9]{2}/, {\n      excludeEmptyString: true,\n      message: 'CPF está incorreto',\n    }),\n  credit_card_number: Yup.string()\n    .required('Número é obrigatório')\n    .matches(/[0-9]{4}\\s?[0-9]{4}\\s?[0-9]{4}\\s?[0-9]{4}/, {\n      excludeEmptyString: true,\n      message: 'Número está incorreto',\n    }),\n  credit_card_expiration_date: Yup.string()\n    .required('Validade é obrigatório')\n    .matches(/(0[1-9]|1[012])\\/?(20[2-9][0-9])/, {\n      excludeEmptyString: true,\n      message: 'Validade está incorreta',\n    }),\n  credit_card_cvv: Yup.string()\n    .required('CVV é obrigatório')\n    .matches(/[0-9]{3}/, {\n      excludeEmptyString: true,\n      message: 'CVV está incorreto',\n    }),\n  amount: Yup.string()\n    .required('Valor é obrigatório')\n    .matches(/([0-9]\\.?)?[0-9]+,[0-9]{2}/, {\n      excludeEmptyString: true,\n      message: 'Valor está incorreto',\n    }),\n});\n\nconst New: React.FC = () => {\n  const { goBack, push: redirect } = useHistory();\n\n  const { addTransaction } = useTransaction();\n  const { addMessage } = useFlash();\n\n  const { register, handleSubmit, errors, setValue } = useForm<TransactionData>(\n    {\n      resolver: yupResolver(validationSchema),\n    },\n  );\n\n  const onSubmit = useCallback(\n    async (data: TransactionData) => {\n      try {\n        await validationSchema.validate(data, {\n          abortEarly: false,\n        });\n\n        const {\n          name,\n          buyer_document,\n          credit_card_cvv,\n          credit_card_expiration_date,\n          credit_card_number,\n          amount,\n        } = data;\n\n        const register: RegisterTransaction = {\n          name,\n          buyer_document,\n          credit_card_cvv,\n          credit_card_expiration_date,\n          credit_card_number,\n          amount: unformatCurrency(amount),\n        };\n\n        await addTransaction(register);\n\n        redirect('/');\n      } catch (error) {\n        addMessage({\n          type: 'error',\n          title: 'Falha ao registrar nova transação, tente novamente!',\n        });\n      }\n    },\n    [addMessage, addTransaction, redirect],\n  );\n\n  useEffect(() => {\n    if (envConfig.isDev) {\n      setValue('name', 'Alex Tavella');\n      setValue('buyer_document', '229.657.248-00');\n      setValue('credit_card_number', '4111 1111 1111 1111');\n      setValue('credit_card_expiration_date', '01/2021');\n      setValue('credit_card_cvv', '321');\n      setValue('amount', 'R$ 1.000,00');\n    }\n  }, [setValue]);\n\n  return (\n    <Container>\n      <AppBar position=\"static\">\n        <Toolbar title=\"Nova transação\" onBack={goBack} />\n      </AppBar>\n      <WrapperContent>\n        <FlashMessages />\n        <Content>\n          <MainContent>\n            <form onSubmit={handleSubmit(onSubmit)}>\n              <div className=\"form_input_group\">\n                <Input\n                  name=\"name\"\n                  label=\"Nome da pessoa compradora\"\n                  ref={register}\n                  error={!!errors?.name}\n                  helperText={errors?.name?.message}\n                />\n\n                <MaskInput\n                  name=\"buyer_document\"\n                  label=\"CPF\"\n                  mask={MaskInputType.buyer_document}\n                  ref={register}\n                  error={!!errors?.buyer_document}\n                  helperText={errors?.buyer_document?.message}\n                />\n\n                <MaskInput\n                  name=\"credit_card_number\"\n                  label=\"N° do cartão\"\n                  mask={MaskInputType.credit_card_number}\n                  ref={register}\n                  error={!!errors?.credit_card_number}\n                  helperText={errors?.credit_card_number?.message}\n                />\n\n                <div className=\"form_credit_card_expiration_date_cvv\">\n                  <MaskInput\n                    name=\"credit_card_expiration_date\"\n                    label=\"Data de expiração\"\n                    mask={MaskInputType.credit_card_expiration_date}\n                    ref={register}\n                    error={!!errors?.credit_card_expiration_date}\n                    helperText={errors?.credit_card_expiration_date?.message}\n                  />\n                  <MaskInput\n                    name=\"credit_card_cvv\"\n                    label=\"CVV\"\n                    mask={MaskInputType.credit_card_cvv}\n                    ref={register}\n                    error={!!errors?.credit_card_cvv}\n                    helperText={errors?.credit_card_cvv?.message}\n                  />\n                </div>\n\n                <MaskInput\n                  name=\"amount\"\n                  label=\"Valor da transação\"\n                  mask={MaskInputType.currency}\n                  ref={register}\n                  error={!!errors?.amount}\n                  helperText={errors?.amount?.message}\n                />\n              </div>\n\n              <Button type=\"submit\" fullWidth>\n                Criar transação\n              </Button>\n            </form>\n          </MainContent>\n        </Content>\n      </WrapperContent>\n    </Container>\n  );\n};\n\nexport default New;\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport HomePage from '../pages/Home';\nimport NewPage from '../pages/New';\n\nconst Routes: React.FC = () => {\n  return (\n    <Switch>\n      <Route path=\"/\" exact component={HomePage} />\n      <Route path=\"/new\" exact component={NewPage} />\n      <Redirect to=\"/\" />\n    </Switch>\n  );\n};\n\nexport default Routes;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport MainProvider from './providers';\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <MainProvider>\n      <Router>\n        <Routes />\n      </Router>\n    </MainProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}